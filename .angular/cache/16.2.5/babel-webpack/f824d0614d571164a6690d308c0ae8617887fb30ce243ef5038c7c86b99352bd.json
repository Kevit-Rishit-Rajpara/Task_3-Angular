{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nexport let UserFormComponent = class UserFormComponent {\n  constructor(formBuilder, dataService, router) {\n    this.formBuilder = formBuilder;\n    this.dataService = dataService;\n    this.router = router;\n    this.qualification = '';\n    this.editMode = localStorage.getItem(\"editMode\");\n    this.hobbyList = [{\n      id: 1,\n      label: 'cricket'\n    }, {\n      id: 2,\n      label: 'music'\n    }, {\n      id: 3,\n      label: 'travelling'\n    }, {\n      id: 4,\n      label: 'finance'\n    }, {\n      id: 5,\n      label: 'others'\n    }];\n  }\n  ngOnInit() {\n    this.userDataForm = this.formBuilder.group({\n      name: new FormControl(null, Validators.required),\n      dob: new FormControl(null, Validators.required),\n      email: new FormControl(null, [Validators.required, Validators.email]),\n      number: new FormControl(null, [Validators.required, Validators.pattern('^((\\\\+91-?)|0)?[6-9]{1}?[0-9]{9}$')]),\n      schoolName: new FormControl(null, Validators.required),\n      qualification: new FormControl(null, Validators.required),\n      percentage: new FormControl(null, [Validators.required, Validators.min(0), Validators.max(100)]),\n      hobby: new FormGroup({\n        cricket: new FormControl(null),\n        travelling: new FormControl(null),\n        music: new FormControl(null),\n        finance: new FormControl(null),\n        others: new FormControl(null)\n      }),\n      gender: new FormControl(null, Validators.required),\n      address: new FormControl(null),\n      summary: new FormControl(null),\n      id: new FormControl(null)\n    });\n    if (this.editMode) {\n      this.dataService.fetchData(+localStorage.getItem('diplayIndex')).subscribe(response => {\n        this.userDataForm.setValue(response);\n        this.onSavetoLocal();\n        this.retriveFromLocal();\n      });\n    }\n    this.retriveFromLocal();\n  }\n  onSavetoLocal() {\n    localStorage.setItem('formData', JSON.stringify(this.userDataForm.value));\n  }\n  retriveFromLocal() {\n    const formData = JSON.parse(localStorage.getItem('formData'));\n    if (formData) {\n      this.userDataForm.patchValue(formData);\n    }\n  }\n  changeQua(e) {\n    this.qualification = e.target.value;\n  }\n  onReset() {\n    localStorage.removeItem('formData');\n    this.ngOnInit();\n  }\n  onBack() {\n    this.router.navigate(['/userList']);\n  }\n  onSubmit(data) {\n    if (!this.userDataForm.valid) {\n      alert('Please enter Valid Data');\n    } else {\n      if (this.editMode) {\n        this.dataService.putData(this.userDataForm.value).subscribe(response => {\n          console.log('Data Updated Successfully!');\n          const Toast = Swal.mixin({\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 1000,\n            timerProgressBar: true,\n            didOpen: toast => {\n              toast.addEventListener('mouseenter', Swal.stopTimer);\n              toast.addEventListener('mouseleave', Swal.resumeTimer);\n            }\n          });\n          Toast.fire({\n            icon: 'success',\n            title: 'Data Updated Successfully'\n          });\n        });\n        this.router.navigate(['/userList']);\n      } else {\n        this.dataService.postData(this.userDataForm.value).subscribe(response => {\n          console.log('Data Added Succesfully in DB.JSON');\n        });\n        const Toast = Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 1000,\n          timerProgressBar: true,\n          didOpen: toast => {\n            toast.addEventListener('mouseenter', Swal.stopTimer);\n            toast.addEventListener('mouseleave', Swal.resumeTimer);\n          }\n        });\n        Toast.fire({\n          icon: 'success',\n          title: 'Data Saved Successfully'\n        });\n        this.router.navigate(['/userList']);\n      }\n    }\n  }\n};\nUserFormComponent = __decorate([Component({\n  selector: 'app-user-form',\n  templateUrl: './user-form.component.html',\n  styleUrls: ['./user-form.component.scss']\n})], UserFormComponent);","map":{"version":3,"names":["Component","FormControl","FormGroup","Validators","Swal","UserFormComponent","constructor","formBuilder","dataService","router","qualification","editMode","localStorage","getItem","hobbyList","id","label","ngOnInit","userDataForm","group","name","required","dob","email","number","pattern","schoolName","percentage","min","max","hobby","cricket","travelling","music","finance","others","gender","address","summary","fetchData","subscribe","response","setValue","onSavetoLocal","retriveFromLocal","setItem","JSON","stringify","value","formData","parse","patchValue","changeQua","e","target","onReset","removeItem","onBack","navigate","onSubmit","data","valid","alert","putData","console","log","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","title","postData","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/kevit/Documents/Angular Tasks/Task_3/src/app/user-form/user-form.component.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from '@angular/forms';\nimport { DataService } from '../data.service';\nimport { Router } from '@angular/router';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-user-form',\n  templateUrl: './user-form.component.html',\n  styleUrls: ['./user-form.component.scss'],\n})\nexport class UserFormComponent implements OnInit {\n  userDataForm: FormGroup;\n  qualification = '';\n  editMode = localStorage.getItem(\"editMode\");\n  editedData: any;\n  hobbyList = [\n    { id: 1, label: 'cricket' },\n    { id: 2, label: 'music' },\n    { id: 3, label: 'travelling' },\n    { id: 4, label: 'finance' },\n    { id: 5, label: 'others' },\n  ];\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private dataService: DataService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.userDataForm = this.formBuilder.group({\n      name: new FormControl(null, Validators.required),\n      dob: new FormControl(null, Validators.required),\n      email: new FormControl(null, [Validators.required, Validators.email]),\n      number: new FormControl(null, [\n        Validators.required,\n        Validators.pattern('^((\\\\+91-?)|0)?[6-9]{1}?[0-9]{9}$'),\n      ]),\n      schoolName: new FormControl(null, Validators.required),\n      qualification: new FormControl(null, Validators.required),\n      percentage: new FormControl(null, [\n        Validators.required,\n        Validators.min(0),\n        Validators.max(100),\n      ]),\n      hobby: new FormGroup({\n        cricket: new FormControl(null),\n        travelling: new FormControl(null),\n        music: new FormControl(null),\n        finance: new FormControl(null),\n        others: new FormControl(null),\n      }),\n      gender: new FormControl(null, Validators.required),\n      address: new FormControl(null),\n      summary: new FormControl(null),\n      id: new FormControl(null),\n    });\n\n    if (this.editMode) {\n      this.dataService\n        .fetchData(+localStorage.getItem('diplayIndex'))\n        .subscribe((response: any) => {\n          this.userDataForm.setValue(response);\n          this.onSavetoLocal();\n          this.retriveFromLocal();\n        });\n    }\n    this.retriveFromLocal();\n  }\n\n  onSavetoLocal() {\n    localStorage.setItem('formData', JSON.stringify(this.userDataForm.value));\n  }\n\n  retriveFromLocal() {\n    const formData = JSON.parse(localStorage.getItem('formData'));\n    if (formData) {\n      this.userDataForm.patchValue(formData);\n    }\n  }\n\n  changeQua(e: any) {\n    this.qualification = e.target.value;\n  }\n\n  onReset() {\n    localStorage.removeItem('formData');\n    this.ngOnInit()\n  }\n  onBack() {\n    this.router.navigate(['/userList']);\n  }\n\n  onSubmit(data: any) {\n    if (!this.userDataForm.valid) {\n      alert('Please enter Valid Data');\n    } else {\n      if (this.editMode) {\n        this.dataService\n          .putData(this.userDataForm.value)\n          .subscribe((response: any) => {\n            console.log('Data Updated Successfully!');\n            const Toast = Swal.mixin({\n              toast: true,\n              position: 'top-end',\n              showConfirmButton: false,\n              timer: 1000,\n              timerProgressBar: true,\n              didOpen: (toast) => {\n                toast.addEventListener('mouseenter', Swal.stopTimer);\n                toast.addEventListener('mouseleave', Swal.resumeTimer);\n              },\n            });\n            Toast.fire({\n              icon: 'success',\n              title: 'Data Updated Successfully',\n            });\n          });\n        this.router.navigate(['/userList']);\n      } else {\n        this.dataService\n          .postData(this.userDataForm.value)\n          .subscribe((response: any) => {\n            console.log('Data Added Succesfully in DB.JSON');\n          });\n        const Toast = Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 1000,\n          timerProgressBar: true,\n          didOpen: (toast) => {\n            toast.addEventListener('mouseenter', Swal.stopTimer);\n            toast.addEventListener('mouseleave', Swal.resumeTimer);\n          },\n        });\n        Toast.fire({\n          icon: 'success',\n          title: 'Data Saved Successfully',\n        });\n        this.router.navigate(['/userList']);\n      }\n    }\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAA2B,eAAe;AAC5D,SAEEC,WAAW,EACXC,SAAS,EACTC,UAAU,QACL,gBAAgB;AAGvB,OAAOC,IAAI,MAAM,aAAa;AAOvB,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAa5BC,YACUC,WAAwB,EACxBC,WAAwB,EACxBC,MAAc;IAFd,KAAAF,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAdhB,KAAAC,aAAa,GAAG,EAAE;IAClB,KAAAC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAE3C,KAAAC,SAAS,GAAG,CACV;MAAEC,EAAE,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAS,CAAE,EAC3B;MAAED,EAAE,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAO,CAAE,EACzB;MAAED,EAAE,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAY,CAAE,EAC9B;MAAED,EAAE,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAS,CAAE,EAC3B;MAAED,EAAE,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAQ,CAAE,CAC3B;EAME;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACC,YAAY,GAAG,IAAI,CAACX,WAAW,CAACY,KAAK,CAAC;MACzCC,IAAI,EAAE,IAAInB,WAAW,CAAC,IAAI,EAAEE,UAAU,CAACkB,QAAQ,CAAC;MAChDC,GAAG,EAAE,IAAIrB,WAAW,CAAC,IAAI,EAAEE,UAAU,CAACkB,QAAQ,CAAC;MAC/CE,KAAK,EAAE,IAAItB,WAAW,CAAC,IAAI,EAAE,CAACE,UAAU,CAACkB,QAAQ,EAAElB,UAAU,CAACoB,KAAK,CAAC,CAAC;MACrEC,MAAM,EAAE,IAAIvB,WAAW,CAAC,IAAI,EAAE,CAC5BE,UAAU,CAACkB,QAAQ,EACnBlB,UAAU,CAACsB,OAAO,CAAC,mCAAmC,CAAC,CACxD,CAAC;MACFC,UAAU,EAAE,IAAIzB,WAAW,CAAC,IAAI,EAAEE,UAAU,CAACkB,QAAQ,CAAC;MACtDX,aAAa,EAAE,IAAIT,WAAW,CAAC,IAAI,EAAEE,UAAU,CAACkB,QAAQ,CAAC;MACzDM,UAAU,EAAE,IAAI1B,WAAW,CAAC,IAAI,EAAE,CAChCE,UAAU,CAACkB,QAAQ,EACnBlB,UAAU,CAACyB,GAAG,CAAC,CAAC,CAAC,EACjBzB,UAAU,CAAC0B,GAAG,CAAC,GAAG,CAAC,CACpB,CAAC;MACFC,KAAK,EAAE,IAAI5B,SAAS,CAAC;QACnB6B,OAAO,EAAE,IAAI9B,WAAW,CAAC,IAAI,CAAC;QAC9B+B,UAAU,EAAE,IAAI/B,WAAW,CAAC,IAAI,CAAC;QACjCgC,KAAK,EAAE,IAAIhC,WAAW,CAAC,IAAI,CAAC;QAC5BiC,OAAO,EAAE,IAAIjC,WAAW,CAAC,IAAI,CAAC;QAC9BkC,MAAM,EAAE,IAAIlC,WAAW,CAAC,IAAI;OAC7B,CAAC;MACFmC,MAAM,EAAE,IAAInC,WAAW,CAAC,IAAI,EAAEE,UAAU,CAACkB,QAAQ,CAAC;MAClDgB,OAAO,EAAE,IAAIpC,WAAW,CAAC,IAAI,CAAC;MAC9BqC,OAAO,EAAE,IAAIrC,WAAW,CAAC,IAAI,CAAC;MAC9Bc,EAAE,EAAE,IAAId,WAAW,CAAC,IAAI;KACzB,CAAC;IAEF,IAAI,IAAI,CAACU,QAAQ,EAAE;MACjB,IAAI,CAACH,WAAW,CACb+B,SAAS,CAAC,CAAC3B,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CAC/C2B,SAAS,CAAEC,QAAa,IAAI;QAC3B,IAAI,CAACvB,YAAY,CAACwB,QAAQ,CAACD,QAAQ,CAAC;QACpC,IAAI,CAACE,aAAa,EAAE;QACpB,IAAI,CAACC,gBAAgB,EAAE;MACzB,CAAC,CAAC;;IAEN,IAAI,CAACA,gBAAgB,EAAE;EACzB;EAEAD,aAAaA,CAAA;IACX/B,YAAY,CAACiC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC7B,YAAY,CAAC8B,KAAK,CAAC,CAAC;EAC3E;EAEAJ,gBAAgBA,CAAA;IACd,MAAMK,QAAQ,GAAGH,IAAI,CAACI,KAAK,CAACtC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC7D,IAAIoC,QAAQ,EAAE;MACZ,IAAI,CAAC/B,YAAY,CAACiC,UAAU,CAACF,QAAQ,CAAC;;EAE1C;EAEAG,SAASA,CAACC,CAAM;IACd,IAAI,CAAC3C,aAAa,GAAG2C,CAAC,CAACC,MAAM,CAACN,KAAK;EACrC;EAEAO,OAAOA,CAAA;IACL3C,YAAY,CAAC4C,UAAU,CAAC,UAAU,CAAC;IACnC,IAAI,CAACvC,QAAQ,EAAE;EACjB;EACAwC,MAAMA,CAAA;IACJ,IAAI,CAAChD,MAAM,CAACiD,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;EACrC;EAEAC,QAAQA,CAACC,IAAS;IAChB,IAAI,CAAC,IAAI,CAAC1C,YAAY,CAAC2C,KAAK,EAAE;MAC5BC,KAAK,CAAC,yBAAyB,CAAC;KACjC,MAAM;MACL,IAAI,IAAI,CAACnD,QAAQ,EAAE;QACjB,IAAI,CAACH,WAAW,CACbuD,OAAO,CAAC,IAAI,CAAC7C,YAAY,CAAC8B,KAAK,CAAC,CAChCR,SAAS,CAAEC,QAAa,IAAI;UAC3BuB,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;UACzC,MAAMC,KAAK,GAAG9D,IAAI,CAAC+D,KAAK,CAAC;YACvBC,KAAK,EAAE,IAAI;YACXC,QAAQ,EAAE,SAAS;YACnBC,iBAAiB,EAAE,KAAK;YACxBC,KAAK,EAAE,IAAI;YACXC,gBAAgB,EAAE,IAAI;YACtBC,OAAO,EAAGL,KAAK,IAAI;cACjBA,KAAK,CAACM,gBAAgB,CAAC,YAAY,EAAEtE,IAAI,CAACuE,SAAS,CAAC;cACpDP,KAAK,CAACM,gBAAgB,CAAC,YAAY,EAAEtE,IAAI,CAACwE,WAAW,CAAC;YACxD;WACD,CAAC;UACFV,KAAK,CAACW,IAAI,CAAC;YACTC,IAAI,EAAE,SAAS;YACfC,KAAK,EAAE;WACR,CAAC;QACJ,CAAC,CAAC;QACJ,IAAI,CAACtE,MAAM,CAACiD,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;OACpC,MAAM;QACL,IAAI,CAAClD,WAAW,CACbwE,QAAQ,CAAC,IAAI,CAAC9D,YAAY,CAAC8B,KAAK,CAAC,CACjCR,SAAS,CAAEC,QAAa,IAAI;UAC3BuB,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;QAClD,CAAC,CAAC;QACJ,MAAMC,KAAK,GAAG9D,IAAI,CAAC+D,KAAK,CAAC;UACvBC,KAAK,EAAE,IAAI;UACXC,QAAQ,EAAE,SAAS;UACnBC,iBAAiB,EAAE,KAAK;UACxBC,KAAK,EAAE,IAAI;UACXC,gBAAgB,EAAE,IAAI;UACtBC,OAAO,EAAGL,KAAK,IAAI;YACjBA,KAAK,CAACM,gBAAgB,CAAC,YAAY,EAAEtE,IAAI,CAACuE,SAAS,CAAC;YACpDP,KAAK,CAACM,gBAAgB,CAAC,YAAY,EAAEtE,IAAI,CAACwE,WAAW,CAAC;UACxD;SACD,CAAC;QACFV,KAAK,CAACW,IAAI,CAAC;UACTC,IAAI,EAAE,SAAS;UACfC,KAAK,EAAE;SACR,CAAC;QACF,IAAI,CAACtE,MAAM,CAACiD,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;;;EAGzC;CACD;AAtIYrD,iBAAiB,GAAA4E,UAAA,EAL7BjF,SAAS,CAAC;EACTkF,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACW/E,iBAAiB,CAsI7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}