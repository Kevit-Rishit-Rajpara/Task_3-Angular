{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Swal from 'sweetalert2';\nexport let UserListComponent = class UserListComponent {\n  constructor(dataService, router, authService) {\n    this.dataService = dataService;\n    this.router = router;\n    this.authService = authService;\n    this.usersDataArray = [];\n  }\n  ngOnInit() {\n    localStorage.removeItem('diplayIndex');\n    this.dataService.getData().subscribe(response => {\n      this.usersDataArray = response;\n    });\n  }\n  onAddUser() {\n    this.router.navigate(['/userForm']);\n  }\n  onLogout() {\n    this.authService.logout();\n    const Toast = Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1000,\n      timerProgressBar: true,\n      didOpen: toast => {\n        toast.addEventListener('mouseenter', Swal.stopTimer);\n        toast.addEventListener('mouseleave', Swal.resumeTimer);\n      }\n    });\n    Toast.fire({\n      icon: 'success',\n      title: 'Loged Out'\n    });\n    this.router.navigate(['/login']);\n  }\n  displayDetail(index) {\n    localStorage.setItem('diplayIndex', this.usersDataArray[index].id);\n    const Toast = Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 2000,\n      timerProgressBar: true,\n      didOpen: toast => {\n        toast.addEventListener('mouseenter', Swal.stopTimer);\n        toast.addEventListener('mouseleave', Swal.resumeTimer);\n      }\n    });\n    Toast.fire({\n      icon: 'info',\n      title: this.usersDataArray[index].name + \"'s Details\"\n    });\n    this.router.navigate(['/user/' + this.usersDataArray[index].id]);\n  }\n  onDelete(event, index) {\n    event.stopPropagation();\n    this.dataService.deleteData(this.usersDataArray[index].id).subscribe(response => {\n      console.log(response);\n      console.log('Deleted Succesfully');\n      this.dataService.getData().subscribe(response => {\n        this.usersDataArray = response;\n      });\n    });\n  }\n};\nUserListComponent = __decorate([Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.scss']\n})], UserListComponent);","map":{"version":3,"names":["Component","Swal","UserListComponent","constructor","dataService","router","authService","usersDataArray","ngOnInit","localStorage","removeItem","getData","subscribe","response","onAddUser","navigate","onLogout","logout","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","title","displayDetail","index","setItem","id","name","onDelete","event","stopPropagation","deleteData","console","log","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/kevit/Documents/Angular Tasks/Task_3/src/app/user-list/user-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../data.service';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.scss'],\n})\nexport class UserListComponent implements OnInit {\n  usersDataArray: any[] = [];\n  constructor(\n    private dataService: DataService,\n    private router: Router,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit(): void {\n    localStorage.removeItem('diplayIndex');\n    this.dataService.getData().subscribe((response: any) => {\n      this.usersDataArray = response;\n    });\n  }\n\n  onAddUser() {\n    this.router.navigate(['/userForm']);\n  }\n\n  onLogout() {\n    this.authService.logout();\n    const Toast = Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1000,\n      timerProgressBar: true,\n      didOpen: (toast) => {\n        toast.addEventListener('mouseenter', Swal.stopTimer);\n        toast.addEventListener('mouseleave', Swal.resumeTimer);\n      },\n    });\n    Toast.fire({\n      icon: 'success',\n      title: 'Loged Out',\n    });\n    this.router.navigate(['/login']);\n  }\n\n  displayDetail(index: number) {\n    localStorage.setItem('diplayIndex', this.usersDataArray[index].id);\n    const Toast = Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 2000,\n      timerProgressBar: true,\n      didOpen: (toast) => {\n        toast.addEventListener('mouseenter', Swal.stopTimer);\n        toast.addEventListener('mouseleave', Swal.resumeTimer);\n      },\n    });\n\n    Toast.fire({\n      icon: 'info',\n      title: this.usersDataArray[index].name + \"'s Details\",\n    });\n    this.router.navigate(['/user/' + this.usersDataArray[index].id]);\n  }\n\n  onDelete(event, index: number) {\n     event.stopPropagation();\n    this.dataService\n      .deleteData(this.usersDataArray[index].id)\n      .subscribe((response: any) => {\n        console.log(response);\n        console.log('Deleted Succesfully');\n        this.dataService.getData().subscribe((response: any) => {\n          this.usersDataArray = response;\n        });\n      });\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}